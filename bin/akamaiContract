
const Tool = require('tool');
const Noi = require('noi');
const { Contract } = Noi;

function dump_dto( dto ) {
    console.log( JSON.stringify(dto) );
}

function print_id( id ) {
    console.log( id );
}

function per_contract( dto ) {
    dto.map( print_id );
}

var commands = {
    list: function () {
        Contract.contracts( per_contract );
    },
    show: function ( id ) {
        Contract.contract( id, dump_dto );
    },
    cpcodes: function () {
        Contract.reporting_groups( dump_dto );
    }
};

var tool = new Tool( commands );

tool.evaluate( process.argv );

/* vim: set autoindent expandtab sw=4 syntax=javascript: */
